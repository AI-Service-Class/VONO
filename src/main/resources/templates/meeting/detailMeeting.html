<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="~{layout/default}">
	

 
<th:block layout:fragment="content">
	<!-- Begin Page Content -->
	<!-- 占쎈연疫꿸퀣苑뚪겫占쏙옙苑� 占쎌삂占쎄쉐 占쎈뻻占쎌삂 -->
	<div class="container-fluid">
		<div class="dropdown" id="floatRight">

  <link href="vendor/datatables/dataTables.bootstrap4.min.css" rel="stylesheet">
			<button type="button" class="btn btn-default dropdown toggle"
				data-toggle="dropdown">
				<b>占쎌긿占쎈�� </b> <i class="fas fa-angle-down"></i><span class="caret"></span>
			</button>
			<ul class="dropdown-menu" role="menu">
				<li><a href="#" onclick="restoreFile()">&nbsp;&nbsp;&nbsp;<i
						class="fas fa-redo"></i>&nbsp;癰귣벀�럡
				</a></li>
				<li><a href="#" onclick="deleteFile()">&nbsp;&nbsp;&nbsp;<i
						class="fas fa-trash-alt"></i>&nbsp;占쎌겫�뤃�딄텣占쎌젫
				</a></li>
			</ul>
		</div>
		<br> <br>
		<div style="width: 100%; height: 350px; overflow: auto">
		
		

            <input type="hidden" id="meetingId" th:value="${meeting.id}"/>

			<table id="meetingLog" class="table table-hover table-white" >
			<tr>
			<th>time</th>
			<th>speaker</th>
			<th>content</th>
			
				<tr th:each="list : ${meetingLog}">



					<td><input type='text' size="5" th:value="${list.time}"
						style="height: 35px;"></td>
					<td><input type="text" size="5" th:value="${list.speaker}"
						style="height: 35px;"></td>
					<td><input type='text' size="70" th:value="${list.content}"
						style="height: 35px;"></td>

				</tr>
				
				
			</table>
			
			
			<table id="memo"class="table table-hover table-white">
			<tr>
			<th>memo</th>
			
			<tr th:each="memo : ${memo}" >
				<td><input type='text' size="70" th:value="${memo}"
						style="height: 35px;"></td>
                  </tr>
			
			</table>
			
			<input type="button" id="updateBtn" value="�닔�젙">


		</div>
		
		
		
		
		
		
		
		 
		  
		
		
		
		
		
		


		<!-- Modal -->


	</div>

	<link th:href="@{css/bootstrap.min.css}" rel="stylesheet">
	<script th:src="@{js/jquery-2.1.3.min.js}"></script>
	
	<script th:src="@{js/bootstrap.min.js}"></script>
	
<link th:href="@{css/wasteBasket.css}" rel="stylesheet">

<script>
$(document).ready(function(){
		$(function()

		{

			$("#updateBtn").click(
					function() {
						var dataArrayToSend = [];
						var dataArrayToSend1 = [];
						var meetingId=$("#meetingId").val();

						$("#meetingLog tr").each(function(){
						var len = $(this).find("td").length;
					
						var arr = {
							speaker : $(this).find("td").eq(0).find('input[type="text"]').val(), //�쑀�� ���옣
							content :$(this).find("td").eq(1).find('input[type="text"]').val(),
							time :$(this).find("td").eq(2).find('input[type="text"]').val()
						
						};
						
						dataArrayToSend1.push(arr);
						});
						
						
						$("#memo tr").each(function(){
							var len = $(this).find("td").length;
						
							var arr = {
								memo : $(this).find("td").eq(0).find('input[type="text"]').val() //�쑀�� ���옣
								
							
							};
							
							dataArrayToSend.push(arr);
							});
						
						
						
						
						/* var list={
								mList: dataArrayToSend1
						} */
						var list={
								list:dataArrayToSend1
								};
						
						var memo={
							     memo:dataArrayToSend
								};
						
						

						$.ajax({
							url : 'meeting/update',
							type : 'post',
							data : {
								"list":JSON.stringify(list),
								"meetingId":meetingId,
								"memo":JSON.sringify(memo)
								},
							
							traditional: true,


						
							
							
							success : function(data) {
								alert(data);
							}
						
						});

					});
		});
});
	</script>




</th:block>
</html>